<ion-header>
  <ion-toolbar>
    <ion-title>Buscar Películas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col
        size="4"
        *ngFor="let movie of movies"
        class="poster-col"
        [routerLink]="['/movie-detail', movie.id]"
      >
        <ion-img
          class="poster-img"
          [src]="getImageUrl(movie.poster_path)"
          alt="{{ movie.title }}"
        ></ion-img>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-infinite-scroll
    threshold="100px"
    (ionInfinite)="loadMovies($event)"
  >
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Cargando más..."
    ></ion-infinite-scroll-content>
  </ion-infinite-scroll>

  <ion-footer class="search-footer">
    <ion-toolbar class="search-toolbar">
      <ion-searchbar
        [(ngModel)]="searchQuery"
        placeholder="Buscar película..."
        (ionInput)="onSearch()"
      ></ion-searchbar>
    </ion-toolbar>
  </ion-footer>
</ion-content>
